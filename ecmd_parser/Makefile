TARGET = libecmd_parser.a
TOPDIR = ..
SRC = \
      	adc.c		\
      	clock.c		\
      	dataflash.c	\
      	dns.c		\
	ecmd.c 		\
	fs20.c		\
	hd44780.c	\
	modbus.c	\
	network.c	\
	onewire.c	\
	portio.c	\
	rc5.c		\
	rfm12.c		\
	usart.c

##############################################################################
# generic fluff
include $(TOPDIR)/defaults.mk
include $(TOPDIR)/rules.mk

##############################################################################
# special stuff for this subdirectory

ecmd.c: ecmd_defs.c
ecmd_defs.c: ecmd_magic.m4 ecmd_defs.m4
	m4 $^ > $@

# extend normal clean rule
clean: clean-common
	$(RM) ecmd_defs.c
