dep_bool_menu "ECMD (Etherrape Control Interface) support" ECMD_PARSER_SUPPORT
  dep_bool "TCP/Telnet interface" ECMD_SUPPORT $ECMD_PARSER_SUPPORT $TCP_SUPPORT
  dep_bool "UDP interface" UECMD_SUPPORT $ECMD_PARSER_SUPPORT $UDP_SUPPORT
if [ "$ECMD_SUPPORT" = "y" -o "$UECMD_SUPPORT" = "y" ]; then
  int "  Set ECMD Port" ECMD_NET_PORT 2701
fi
  dep_bool "I2C interface" ECMD_SERIAL_I2C_SUPPORT $ECMD_PARSER_SUPPORT $CONFIG_EXPERIMENTAL 
  dep_bool "USB interface" ECMD_USB_SUPPORT $ECMD_PARSER_SUPPORT $CONFIG_EXPERIMENTAL $USB_SUPPORT

  if [ "$ECMD_SERIAL_I2C_SUPPORT" = "y" -o "$ECMD_SERIAL_USART_SUPPORT" = "y" ]; then
    define_bool "ECMD_SERIAL_SUPPORT" y
  else
    define_bool "ECMD_SERIAL_SUPPORT" n
  fi

  dep_bool "Jabber interface (EXPERIMENTAL)" ECMD_JABBER_SUPPORT $ECMD_PARSER_SUPPORT $CONFIG_EXPERIMENTAL $JABBER_SUPPORT
  if [ "$ECMD_JABBER_SUPPORT" = "y" ]; then
    editor "Edit list of allowed ecmd buddies" JABBER_KNOWN_BUDDIES jabber/known_buddies.src
  fi

  dep_bool "IRC interface (EXPERIMENTAL)" ECMD_IRC_SUPPORT $ECMD_PARSER_SUPPORT $CONFIG_EXPERIMENTAL $IRC_SUPPORT

  dep_bool_editor "Alias Command Names" ALIASCMD_SUPPORT "aliascmd/alias_defs.m4" $ECMD_PARSER_SUPPORT $CONFIG_EXPERIMENTAL
  dep_bool_menu "ECMD Scripting" ECMD_SCRIPT_SUPPORT $ECMD_PARSER_SUPPORT $CONFIG_EXPERIMENTAL
    int "Maximum number of variables" ECMD_SCRIPT_MAX_VARIABLES 4
  endmenu
  dep_bool "Send ECMD messages over TCP" ECMD_SENDER_SUPPORT $TCP_SUPPORT
  dep_bool "Send ECMD messages over UDP" UECMD_SENDER_SUPPORT $UDP_SUPPORT

  comment "Optional ECMD commands"
  dep_bool '  Disable IP Config' DISABLE_IPCONF_SUPPORT $UIP_SUPPORT $ECMD_PARSER_SUPPORT
  dep_bool '  Disable Reboot-Commands' DISABLE_REBOOT_SUPPORT $UIP_SUPPORT $ECMD_PARSER_SUPPORT
  dep_bool '  IP Statistics' IPSTATS_SUPPORT $UIP_SUPPORT $ECMD_PARSER_SUPPORT
  dep_bool '  Memory usage information (free)' FREE_SUPPORT $ECMD_PARSER_SUPPORT
endmenu 
